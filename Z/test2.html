<script>

    function foo() {
        let name = "foo"
        console.log(name)

        function bar() {
            let name = "bar"
            console.log(name)
        }
        bar()
    }

    foo()

</script>
<script>
    // 节流，每隔一段时间执行一次
    function throttle(func, wait = 1000) {
        let last = null

        return function (...args) {
            let now = + new Date()
            if (last - now > wait || !last) {
                func(...arg)
                last = now
            }
        }

    }

    //防抖，一段时间内只执行一次
    function debounce(func, wait) {
        let timer = 0
        return function (...args) {
            if (timer)
                clearTimeout(timer)

            let timer = setTimeout(() => {
                func(...args)
            }, wait)
        }
    }
    let a = {
        num: 0,
        children: [{
            num: 0,
            children: [{
                num: 0,
                children: [{
                    num: 1,
                },{
                    num: 4,
                }]
            }, {
                num: 3
            }]
        }]
    }
    function sum(a) {
        for (let i = 0; i < a.children.length; i++) {
            if (a.children[i].children) {
                sum(a.children[i])
            }
            a.num += a.children[i].num
        }
    }
    sum(a)
    console.log(a)
</script>